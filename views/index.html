<!--
* Â© Copyright IBM Corp. 2016, 2017 All Rights Reserved
*   Project name: JSONata
*   This project is licensed under the MIT License, see LICENSE
-->

<html>

<head>
  <title>Percipio JSONata Exerciser</title>
  <link rel="icon" type="image/png" href="images/jsonata-button.png" />
  <script src="/codemirror/lib/codemirror.js"></script>
  <link rel="stylesheet" type="text/css" href="/codemirror/lib/codemirror.css">
  <link rel="stylesheet" href="/codemirror/addon/hint/show-hint.css">
  <script src="/codemirror/addon/edit/closebrackets.js"></script>
  <script src="/codemirror/addon/edit/matchbrackets.js"></script>
  <script src="/codemirror/addon/hint/show-hint.js"></script>
  <script src="/codemirror/addon/search/search.js"></script>
  <script src="/codemirror/addon/dialog/dialog.js"></script>
  <script src="/codemirror/addon/search/searchcursor.js"></script>
  <script src="/codemirror/addon/search/search.js"></script>
  <script src="/codemirror/addon/scroll/annotatescrollbar.js"></script>
  <script src="/codemirror/addon/search/matchesonscrollbar.js"></script>
  <script src="/codemirror/addon/search/jump-to-line.js"></script>
  <link rel="stylesheet" href="/codemirror/addon/dialog/dialog.css">
  <link rel="stylesheet" href="/codemirror/addon/search/matchesonscrollbar.css">
  <link rel="stylesheet" type="text/css" href="style/exerciser.css">
  <script src="/codemirror/mode/javascript/javascript.js"></script>
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/jsonata/jsonata.min.js"></script>
  <script defer src="https://martinholden-skillsoft.github.io/jsonata-extended/jsonata-extended.js"></script>
  <script defer src="scripts/bundle.js"></script>
</head>

<body>
  <div id="banner">
    <div id="logo">&nbsp;</div>
    <div id="banner1" class="bannerpart">Percipio JSONata Exerciser</div>
    <div id="banner2" class="bannerpart">&nbsp;</div>
    <div id="banner3" class="bannerpart">&nbsp;</div>
    <div id="banner4" class="bannerpart">
      <a href="http://docs.jsonata.org" target="_blank"><img src="images/docs-white-32.png" alt="Documentation"></a>
    </div>
  </div>
  <div class="content">
    <div id="srcdiv" class="src split split-horizontal">
      <textarea id="source"><%= input %></textarea>
      <div id="json-label" class="label">JSON</div>
      <img src="images/format.png" id="json-format" title="Format">
      <select id="sample-data" onchange="window.selectData(this);">
        <option value="metadata">Metadata</option>
        <option value="learningactivity">Learning Activity</option>
        <option value="learningactivitycompleted">Learning Activity (Completed Only)</option>
      </select>
    </div>
    <div id="rhsdiv" class="rhs split split-horizontal">
      <div class="pth split content" id="pthdiv">
        <textarea id="path"><%= jsonata %></textarea>
        <div id="jsonata-label" class="label">JSONata</div>
        <select id="sample-transform" onchange="window.selectTransform(this);">
          <option value="metadata">Flatten Metadata</option>
          <option value="learningactivity">Learning Activity</option>
        </select>
        <div id="sample-transformlabel" class="label"></div>
      </div>
      <div class="res split content" id="resdiv">
        <textarea id="result"></textarea>
        <div id="result-label" class="label">Result</div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm//split.js/split.min.js"></script>
  <script>
    Split(['#srcdiv', '#rhsdiv'], {
      gutterSize: 5,
      cursor: 'col-resize'
    });

    Split(['#pthdiv', '#resdiv'], {
      direction: 'vertical',
      sizes: [50, 50],
      gutterSize: 5,
      cursor: 'row-resize'
    });
  </script>
</body>

</html>